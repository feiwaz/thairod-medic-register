<app-toolbar [toolbarTitle]="'ระบุข้อมูลวิชาชีพทางเวชกรรม'"></app-toolbar>
<div class="form-container">
  <form [formGroup]="jobInfoForm" (ngSubmit)="onSubmit()">
    <div class="form-field-container">
      <p><b>สาขาที่ถนัด</b></p>
      <section class="checkbox-flex-container">
        <p *ngFor="let field of medFields">
          <mat-checkbox [formControlName]="field.formControlName">
            {{field.viewValue}}
          </mat-checkbox>
        </p>
      </section>
      <p><b>เลขที่ใบประกอบวิชาชีพเวชกรรม</b></p>
      <mat-form-field>
        <input matInput type="number" formControlName="medLicenseId" placeholder="กรอกเฉพาะตัวเลข 5 หลัก" #medLicenseId
          class="user-id-input">
        <button *ngIf="medLicenseId" type="button" matSuffix mat-icon-button aria-label="Clear"
          (click)="medLicenseId.value=''">
          <mat-icon>close</mat-icon>
        </button>
        <mat-hint align="end">{{medLicenseId.value.length}} / 5</mat-hint>
        <mat-error
          *ngIf="jobInfoForm.get('medLicenseId')?.hasError('min') || jobInfoForm.get('medLicenseId')?.hasError('max')">
          กรุณาใส่เลขให้ครบ 5 หลัก
          <mat-hint class="mat-hint-error">{{medLicenseId.value.length}} / 5</mat-hint>
        </mat-error>
        <mat-error *ngIf="jobInfoForm.get('medLicenseId')?.hasError('required')">
          จำเป็นต้องใส่*
        </mat-error>
      </mat-form-field>
      <p><b>อัพโหลดภาพบัตรประจำตัวประชาชน</b></p>
      <input type="file" accept="image/*" capture="environment" formControlName="idCard" #idCard>
      <mat-error *ngIf="jobInfoForm.get('idCard')?.hasError('required')">
        จำเป็นต้องใส่*
      </mat-error>
    </div>
    <button mat-flat-button type="submit" color="primary" [disabled]="!jobInfoForm.valid">
      ถัดไป <mat-icon>arrow_forward</mat-icon>
    </button>
  </form>
</div>